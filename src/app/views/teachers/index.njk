{% extends "layout.njk" %}


{% block content %}
<div class="card table-container">

    <div class="header"> 
        <a class="button" href="/teachers/create">Novo</a>
        <form action ="/teachers" method="GET">
            <input 
                type="text"
                name="filter"
                placeholder="Filtrar por nome"
                > 

            <button type="submit">Filtrar</button>
        </form>
    </div>

    <table> 
        <thead> 
            <tr> 
                <th>Professor</th>
                <th>Aulas</th>
                <th>Alunos</th>
                <th>Ação</th>

            </tr>
        </thead>

        <tbody> 
            {% for teacher in teachers %}
                <tr>
                    <td><span style="background-image: url({{teacher.avatar_url}})"></span>
                        {{teacher.name}}</td>   
                        <td> 
                            {% for subjects_taught in teacher.subjects_taught.split(",")%} 
                            <div id="td-subjects_taughts">{{subjects_taught}} </div>  
                            {% endfor %} 
                        </td>
                    <td> {{teacher.total_students}}                            
                    <td> <a href="/teachers/{{teacher.id}}">Ver detalhes</a> </td>
                </tr>
            {% endfor%}
        </tbody>
    </table>


</div>
{% endblock content %}


